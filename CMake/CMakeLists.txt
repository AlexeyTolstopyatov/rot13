# To run: 
#   1. cd to directory with this CMakeLists.txt
#   2. $ mkdir build && cd build && cmake -DENCODE=<String to encode> ..

cmake_minimum_required(VERSION 3.13)
project(ROT13 VERSION 1.0.0)

set(ENCODE "" CACHE STRING "")

function(rot13 RET CH)
    set(RES "")
    if("${CH}" STREQUAL "A")
        set(RES "N")
    endif()
    if("${CH}" STREQUAL "B")
        set(RES "O")
    endif()
    if("${CH}" STREQUAL "C")
        set(RES "P")
    endif()
    if("${CH}" STREQUAL "D")
        set(RES "Q")
    endif()
    if("${CH}" STREQUAL "E")
        set(RES "R")
    endif()
    if("${CH}" STREQUAL "F")
        set(RES "S")
    endif()
    if("${CH}" STREQUAL "G")
        set(RES "T")
    endif()
    if("${CH}" STREQUAL "H")
        set(RES "U")
    endif()
    if("${CH}" STREQUAL "I")
        set(RES "V")
    endif()
    if("${CH}" STREQUAL "J")
        set(RES "W")
    endif()
    if("${CH}" STREQUAL "K")
        set(RES "X")
    endif()
    if("${CH}" STREQUAL "L")
        set(RES "Y")
    endif()
    if("${CH}" STREQUAL "M")
        set(RES "Z")
    endif()
    if("${CH}" STREQUAL "N")
        set(RES "A")
    endif()
    if("${CH}" STREQUAL "O")
        set(RES "B")
    endif()
    if("${CH}" STREQUAL "P")
        set(RES "C")
    endif()
    if("${CH}" STREQUAL "Q")
        set(RES "D")
    endif()
    if("${CH}" STREQUAL "R")
        set(RES "E")
    endif()
    if("${CH}" STREQUAL "S")
        set(RES "F")
    endif()
    if("${CH}" STREQUAL "T")
        set(RES "G")
    endif()
    if("${CH}" STREQUAL "U")
        set(RES "H")
    endif()
    if("${CH}" STREQUAL "V")
        set(RES "I")
    endif()
    if("${CH}" STREQUAL "W")
        set(RES "J")
    endif()
    if("${CH}" STREQUAL "X")
        set(RES "K")
    endif()
    if("${CH}" STREQUAL "Y")
        set(RES "L")
    endif()
    if("${CH}" STREQUAL "Z")
        set(RES "M")
    endif()
    if("${CH}" STREQUAL "a")
        set(RES "n")
    endif()
    if("${CH}" STREQUAL "b")
        set(RES "o")
    endif()
    if("${CH}" STREQUAL "c")
        set(RES "p")
    endif()
    if("${CH}" STREQUAL "d")
        set(RES "q")
    endif()
    if("${CH}" STREQUAL "e")
        set(RES "r")
    endif()
    if("${CH}" STREQUAL "f")
        set(RES "s")
    endif()
    if("${CH}" STREQUAL "g")
        set(RES "t")
    endif()
    if("${CH}" STREQUAL "h")
        set(RES "u")
    endif()
    if("${CH}" STREQUAL "i")
        set(RES "v")
    endif()
    if("${CH}" STREQUAL "j")
        set(RES "w")
    endif()
    if("${CH}" STREQUAL "k")
        set(RES "x")
    endif()
    if("${CH}" STREQUAL "l")
        set(RES "y")
    endif()
    if("${CH}" STREQUAL "m")
        set(RES "z")
    endif()
    if("${CH}" STREQUAL "n")
        set(RES "a")
    endif()
    if("${CH}" STREQUAL "o")
        set(RES "b")
    endif()
    if("${CH}" STREQUAL "p")
        set(RES "c")
    endif()
    if("${CH}" STREQUAL "q")
        set(RES "d")
    endif()
    if("${CH}" STREQUAL "r")
        set(RES "e")
    endif()
    if("${CH}" STREQUAL "s")
        set(RES "f")
    endif()
    if("${CH}" STREQUAL "t")
        set(RES "g")
    endif()
    if("${CH}" STREQUAL "u")
        set(RES "h")
    endif()
    if("${CH}" STREQUAL "v")
        set(RES "i")
    endif()
    if("${CH}" STREQUAL "w")
        set(RES "j")
    endif()
    if("${CH}" STREQUAL "x")
        set(RES "k")
    endif()
    if("${CH}" STREQUAL "y")
        set(RES "l")
    endif()
    if("${CH}" STREQUAL "z")
        set(RES "m")
    endif()

    if("${RES}" STREQUAL "")
        set(RES "${CH}")
    endif()

    set(${RET} "${RES}" PARENT_SCOPE)
endfunction()

set(ENCODED "")
while(ENCODE)
    string(SUBSTRING "${ENCODE}" 0 1 CH)
    string(SUBSTRING "${ENCODE}" 1 -1 ENCODE)
    rot13(CH "${CH}")
    set(ENCODED "${ENCODED}${CH}")
endwhile()

message("-- Encoded string: ${ENCODED}")
